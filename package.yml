name       : heroku-cli
version    : 5.6.29
release    : 4
source     :
    - https://github.com/heroku/cli/archive/v5.6.29.tar.gz : a1bd9939b0f2d530a669a10e9297e5cdfee429e32d8bdf4f6611d68b40d7f207
license    : MIT
networking : yes
component  : network.clients
summary    : The Heroku CLI is used to manage Heroku apps from the command line.
description: |
    The Heroku CLI is used to manage Heroku apps from the command line.
extract    : no
builddeps  :
    - git
    - golang
    - nodejs
rundeps    :
    - nodejs
setup      : |
    export GOPATH=$workdir
    export godir="src/github.com/heroku/cli"
    mkdir {bin,pkg,src}
    mkdir -p src/github.com/heroku/
    tar -xf $sources/v$version.tar.gz -C src/github.com/heroku/
    mv src/github.com/heroku/cli-$version $godir
    mv $godir/vendor/github.com/* src/github.com/
    mv $godir/vendor/golang.org src/
    cd $godir
    %patch -p1 < $pkgfiles/0001-Introduce-sane-install-recipe-for-Makefile.patch
build      : |
    export GOPATH=$workdir
    cd src/github.com/heroku/cli/
    %make build
install    : |
    cd src/github.com/heroku/cli/
    %make_install
